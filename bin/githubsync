#!/usr/bin/env php
<?php

error_reporting(E_ALL);

$loaded = false;
$base = __DIR__;
$autoload = 'vendor/autoload.php';

// Search for the autoload by traversing all parent directories
while ($base && basename($base) !== $base) {
    $path = $base . '/' . $autoload;
    if ($loaded = file_exists($path)) {
        require_once $path;
        break;
    }
    $base = dirname($base);
}

if (!$loaded) {
    throw new RuntimeException("Couldn't find composer autoload file");
}
unset($loaded, $base, $autoload, $loaded, $path, $binName);
$application = new \Dhensby\GitHubSync\Console\Application();

$application->run();
